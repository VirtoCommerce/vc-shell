# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç MCP Debug

## 3 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ live –ª–æ–≥–æ–≤ MCP –≤ Cursor

### 1Ô∏è‚É£ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚úÖ

–í–∞—à `~/.cursor/mcp.json` —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
```json
{
  "env": {
    "DEBUG_MCP": "true",
    "MCP_DEBUG_LOG": "/tmp/mcp-debug.log"
  }
}
```

### 2Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor

**–í–ê–ñ–ù–û:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ Cursor (Cmd+Q) –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–Ω–æ–≤–∞.

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ watcher –ª–æ–≥–æ–≤

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
cd /Users/symbot/DEV/vc-shell/cli/ai-codegen
npm run mcp:watch

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
./watch-mcp-logs.sh
```

---

## üéØ –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ?

–ö–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Claude Code –∏ –æ–Ω –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
[MCP DEBUG 2025-01-19T17:10:23.456Z]
============================================================
[MCP DEBUG 2025-01-19T17:10:23.456Z] Tool call: search_components
[MCP DEBUG 2025-01-19T17:10:23.457Z] Arguments: {
  "query": "table",
  "limit": 10
}
[MCP DEBUG 2025-01-19T17:10:23.458Z]
============================================================
[MCP DEBUG 2025-01-19T17:10:23.473Z] ‚úì Tool completed successfully: search_components
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤:
```bash
tail -50 /tmp/mcp-debug.log
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
```bash
grep "search_components" /tmp/mcp-debug.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤:
```bash
grep "‚úì Tool completed" /tmp/mcp-debug.log
```

### –ü–æ–¥—Å—á–µ—Ç –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
```bash
grep "Tool call:" /tmp/mcp-debug.log | cut -d' ' -f7 | sort | uniq -c
```

---

## üîç –ö–æ–≥–¥–∞ –ò–ò –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã?

–°–æ–≥–ª–∞—Å–Ω–æ –∫–æ–¥—É, –ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ —Ç–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:

### –§–∞–∑–∞ Discovery (–ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏):
- **–ò—â–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** `search_components("table")`
- **–ò–∑—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** `view_components(["VcTable"])`
- **–°–º–æ—Ç—Ä–∏—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** `get_component_examples(query="filters")`
- **–ü–æ–Ω–∏–º–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:** `get_component_capabilities(component="VcTable")`

### –§–∞–∑–∞ Planning (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ):
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å:** `analyze_prompt_v2(prompt="—Å–æ–∑–¥–∞–π —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤")`
- **–°–æ–∑–¥–∞–µ—Ç UI-Plan:** `create_ui_plan_from_analysis_v2(analysis={...})`
- **–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–ª–∞–Ω:** `validate_ui_plan(plan={...})`

### –§–∞–∑–∞ Generation (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞):
- **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** `generate_with_composition(plan={...})`
- **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥:** `submit_generated_code(bladeId="...", code="...")`

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ MCP –ø—Ä–æ—Ü–µ—Å—Å—ã:
```bash
npm run mcp:clean
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ MCP —Å–µ—Ä–≤–µ—Ä—ã:
```bash
ps aux | grep "vcshell.*mcp" | grep -v grep
```

### –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥-—Ñ–∞–π–ª:
```bash
> /tmp/mcp-debug.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ—Ç—Ä–∏–∫:
```bash
cat /Users/symbot/DEV/vc-shell/cli/ai-codegen/.mcp-metrics.json | jq .
```

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –õ–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è?
**A:**
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor (Cmd+Q, –ø–æ—Ç–æ–º –æ—Ç–∫—Ä–æ–π—Ç–µ —Å–Ω–æ–≤–∞)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `ps aux | grep vcshell`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏: `ls -la /tmp/mcp-debug.log`

### Q: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–≥–æ–≤?
**A:** –ú–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é, –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–≤ —Å—Ç—Ä–æ–∫—É —Å `Arguments` –≤ [mcp.ts:381](cli/ai-codegen/src/commands/mcp.ts#L381)

### Q: –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ Cursor IDE?
**A:** –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Claude Code extension, –ª–æ–≥–∏ MCP **–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º Output –ø–∞–Ω–µ–ª–∏ Cursor. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (`/tmp/mcp-debug.log`).

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [README-MCP-DEBUG.md](README-MCP-DEBUG.md)
