# Central Examples Index
# This file catalogs all examples, patterns, templates, and components
# Used by MCP tools to provide transparent access to examples

version: "1.0"
last_updated: "2025-11-21"

# ============================================================================
# PATTERNS - Architectural patterns and best practices
# ============================================================================
patterns:
  # Workspace blade patterns
  - id: workspace-blade
    file: patterns/workspace-blade.md
    category: architectural
    applies_to: [list, details]
    description: How to create workspace blades with menuItem in defineOptions
    features: [workspace, menu, navigation]

  - id: module-registration
    file: patterns/module-registration.md
    category: architectural
    applies_to: [all]
    description: Correct module registration using createAppModule
    features: [module, registration]

  - id: route-rules
    file: patterns/route-rules.md
    category: architectural
    applies_to: [all]
    description: Custom route definitions and route rules for blades
    features: [routes, routing, custom-routes]

  # List blade patterns
  - id: list-filters
    file: patterns/list-filters.md
    category: blade
    applies_to: [list]
    description: List blade with advanced filtering
    features: [filters, search, staging]

  - id: list-multiselect
    file: patterns/list-multiselect.md
    category: blade
    applies_to: [list]
    description: List blade with multiselect and bulk actions
    features: [multiselect, bulk-actions, toolbar]

  - id: list-reorderable
    file: patterns/list-reorderable.md
    category: blade
    applies_to: [list]
    description: List blade with drag-and-drop reordering
    features: [reorderable, drag-drop]

  - id: list-patterns
    file: patterns/list-patterns.md
    category: blade
    applies_to: [list]
    description: Common patterns for list blades
    features: [table, toolbar, search, pagination]

  # Details blade patterns
  - id: details-validation
    file: patterns/details-validation.md
    category: blade
    applies_to: [details]
    description: Form validation patterns
    features: [validation, error-handling, vee-validate]

  - id: details-gallery
    file: patterns/details-gallery.md
    category: blade
    applies_to: [details]
    description: Details blade with image gallery
    features: [gallery, upload, images]

  - id: details-widgets
    file: patterns/details-widgets.md
    category: blade
    applies_to: [details]
    description: Widget registration and usage in details blade
    features: [widgets, dynamic-components]

  - id: details-patterns
    file: patterns/details-patterns.md
    category: blade
    applies_to: [details]
    description: Common patterns for details blades
    features: [form, validation, toolbar, modifications]

  # Shared patterns
  - id: parent-child-communication
    file: patterns/parent-child-communication.md
    category: communication
    applies_to: [all]
    description: Parent-child blade communication via events
    features: [events, parent-call, blade-navigation]

  - id: error-handling
    file: patterns/error-handling.md
    category: best-practice
    applies_to: [all]
    description: Error handling and user feedback
    features: [errors, notifications, try-catch]

  - id: async-select
    file: patterns/async-select.md
    category: component-usage
    applies_to: [all]
    description: Async data loading in VcSelect component
    features: [async, select, api]

  - id: custom-column-slots
    file: patterns/custom-column-slots.md
    category: component-usage
    applies_to: [list]
    description: Custom column rendering in VcTable
    features: [table, slots, custom-rendering]

  # Domain patterns
  - id: domain-events
    file: patterns/domain-events.md
    category: architectural
    applies_to: [all]
    description: Domain event broadcasting and handling
    features: [events, pub-sub, reactive]

  - id: widget-registration
    file: patterns/widget-registration.md
    category: architectural
    applies_to: [details]
    description: Dashboard widget registration
    features: [widgets, dashboard, dynamic]

  # Browser integration patterns
  - id: browser-unload-prevention
    file: patterns/browser-unload-prevention.md
    category: best-practice
    applies_to: [details]
    description: Prevent browser tab close with unsaved changes
    features: [beforeunload, unsaved-changes]

  - id: unsaved-changes
    file: patterns/unsaved-changes.md
    category: best-practice
    applies_to: [details]
    description: Track and warn about unsaved modifications
    features: [modifications, dirty-tracking, confirmation]

  # Complete working examples (full code)
  - id: blade-list-complete
    file: patterns/blade-list-complete.md
    category: example
    applies_to: [list]
    description: Complete working example of list blade with VcTable
    features: [table, search, pagination, toolbar, crud]

  - id: blade-details-complete
    file: patterns/blade-details-complete.md
    category: example
    applies_to: [details]
    description: Complete working example of details blade with form
    features: [form, validation, modifications, toolbar]

  - id: composable-list-complete
    file: patterns/composable-list-complete.md
    category: example
    applies_to: [list]
    description: Complete working example of list composable
    features: [api, loading, pagination, crud]

  - id: composable-details-complete
    file: patterns/composable-details-complete.md
    category: example
    applies_to: [details]
    description: Complete working example of details composable
    features: [api, loading, modifications, validation]

  - id: widgets-complete
    file: patterns/widgets-complete.md
    category: example
    applies_to: [details]
    description: Complete guide to widgets with registration examples
    features: [widgets, dynamic-components, useWidgets]

# ============================================================================
# REFERENCE - Single Source of Truth (Authoritative Code)
# ============================================================================
# These are the definitive, production-ready implementations
# All patterns and templates should reference these files
reference:
  - id: blade-list
    file: reference/blade-list.vue
    type: blade
    applies_to: [list]
    description: Authoritative list blade implementation
    features: [VcTable, search, pagination, sorting, toolbar, navigation]

  - id: blade-details
    file: reference/blade-details.vue
    type: blade
    applies_to: [details]
    description: Authoritative details blade implementation
    features: [VcForm, VcCard, validation, save, delete, modifications]

  - id: composable-list
    file: reference/composable-list.ts
    type: composable
    applies_to: [list]
    description: Authoritative list composable with useAsync
    features: [useAsync, useApiClient, pagination, search]

  - id: composable-details
    file: reference/composable-details.ts
    type: composable
    applies_to: [details]
    description: Authoritative details composable with modification tracking
    features: [useAsync, useModificationTracker, useLoading, crud]

  - id: api-client
    file: reference/api-client.ts
    type: api
    applies_to: [all]
    description: Authoritative API client with AuthApiBase
    features: [AuthApiBase, TypeScript, CRUD methods]

# ============================================================================
# TEMPLATES - Production-ready Vue SFC templates for blade generation
# Used by get_best_template MCP tool
# ============================================================================
templates:
  # List templates
  - id: list-simple
    file: templates/list-simple.vue
    blade_type: list
    complexity: simple
    features: [table, search, pagination, toolbar, api]
    description: Basic list blade template

  - id: list-filters
    file: templates/list-filters.vue
    blade_type: list
    complexity: moderate
    features: [table, search, filters, pagination, toolbar, api]
    description: List with advanced filtering sidebar

  - id: list-multiselect
    file: templates/list-multiselect.vue
    blade_type: list
    complexity: moderate
    features: [table, multiselect, bulk-actions, toolbar, api]
    description: List with row selection and bulk operations

  - id: list-reorderable
    file: templates/list-reorderable.vue
    blade_type: list
    complexity: moderate
    features: [table, reorderable, drag-drop, save-order, api]
    description: List with drag-and-drop row reordering

  # Details templates
  - id: details-simple
    file: templates/details-simple.vue
    blade_type: details
    complexity: simple
    features: [form, validation, save, toolbar, api]
    description: Basic details blade template

  - id: details-validation
    file: templates/details-validation.vue
    blade_type: details
    complexity: moderate
    features: [form, validation, vee-validate, error-handling, toolbar, api]
    description: Details with comprehensive vee-validate validation

  - id: details-gallery
    file: templates/details-gallery.vue
    blade_type: details
    complexity: complex
    features: [form, gallery, upload, images, validation, api]
    description: Details with image gallery and uploads

  - id: details-widgets
    file: templates/details-widgets.vue
    blade_type: details
    complexity: complex
    features: [form, widgets, dynamic-components, slots, api]
    description: Details with dynamic widget system

# ============================================================================
# SNIPPETS - Feature-specific code snippets (organized by blade type)
# ============================================================================
snippets:
  # Composable snippets (moved from templates/ to maintain backward compatibility)
  composables:
    - id: composable-list-template
      file: templates/composable-list.ts.template
      description: List composable template with useAsync

    - id: composable-details-template
      file: templates/composable-details.ts.template
      description: Details composable template with useModificationTracker

# ============================================================================
# METADATA
# ============================================================================
statistics:
  total_patterns: 24  # 18 patterns + 5 complete examples + 1 route-rules
  total_templates: 8  # 4 list + 4 details Vue SFC templates
  total_snippets: 2  # 2 composable templates
  total_reference: 5  # Authoritative single-source-of-truth files
  total_components: 30  # Component demo files
  total_composables: 35  # Framework composable examples (was framework/)
  total_files: 350

categories:
  patterns:
    - architectural: Core architectural patterns (workspace, modules, events)
    - blade: Blade-specific patterns (list, details)
    - communication: Inter-component communication
    - component-usage: How to use specific components
    - best-practice: Best practices and recommendations
    - example: Complete working code examples

  snippets:
    - simple: Basic functionality
    - moderate: Extended features
    - complex: Advanced features

# ============================================================================
# DIRECTORY STRUCTURE (Updated 2025-11-26)
# ============================================================================
#
# examples/
# ├── index.yaml                           # This file - central catalog
# ├── ui-plan-example-complete.json        # Complete valid UI-Plan example
# │
# ├── reference/                           # ⭐ SINGLE SOURCE OF TRUTH (5 files)
# │   ├── README.md                        # Architecture guide
# │   ├── blade-list.vue                   # Authoritative list blade
# │   ├── blade-details.vue                # Authoritative details blade
# │   ├── composable-list.ts               # Authoritative list composable
# │   ├── composable-details.ts            # Authoritative details composable
# │   └── api-client.ts                    # Authoritative API client
# │
# ├── snippets/                            # Feature-specific code snippets
# │   ├── list/                            # List blade variations
# │   │   ├── list-simple.vue
# │   │   ├── list-filters.vue
# │   │   ├── list-multiselect.vue
# │   │   └── list-reorderable.vue
# │   ├── details/                         # Details blade variations
# │   │   ├── details-simple.vue
# │   │   ├── details-validation.vue
# │   │   ├── details-gallery.vue
# │   │   └── details-widgets.vue
# │   ├── composable-list.ts.template
# │   └── composable-details.ts.template
# │
# ├── patterns/                            # 24 markdown pattern docs
# │   ├── workspace-blade.md
# │   ├── module-registration.md
# │   ├── blade-list-complete.md           # → references reference/blade-list.vue
# │   ├── blade-details-complete.md        # → references reference/blade-details.vue
# │   └── ...
# │
# ├── components/                          # 30 component demo files
# │   ├── VcTable-demo.md
# │   ├── VcInput-demo.md
# │   └── ...
# │
# ├── capabilities/                        # 243 component capability examples
# │   ├── VcTable/
# │   ├── VcInput/
# │   └── ...
# │
# └── composables/                         # 35 framework hook examples (was framework/)
#     └── composables/
#         ├── useBladeNavigation/
#         ├── useAsync/
#         ├── useApiClient/
#         ├── useModificationTracker/
#         └── ...
