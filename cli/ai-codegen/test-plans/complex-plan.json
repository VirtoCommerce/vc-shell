{
  "$schema": "https://vc-shell.dev/schemas/ui-plan.v1.json",
  "module": "offers",
  "blades": [
    {
      "id": "offers-details",
      "route": "/offer/:id?",
      "layout": "details",
      "title": "Offer Details",
      "features": ["validation", "gallery", "widgets"],
      "components": [
        {
          "type": "VcForm",
          "fields": [
            { "key": "productId", "as": "VcSelect", "label": "Product", "required": true, "validation": "required" },
            { "key": "name", "as": "VcInput", "label": "Name", "required": true, "validation": "required" },
            { "key": "sku", "as": "VcInput", "label": "SKU", "required": true, "validation": "required|min:3" },
            { "key": "price", "as": "VcInput", "label": "Price", "type": "number", "required": true },
            { "key": "quantity", "as": "VcInput", "label": "Quantity", "type": "number" },
            { "key": "isActive", "as": "VcSwitch", "label": "Active" },
            { "key": "description", "as": "VcTextarea", "label": "Description" }
          ]
        },
        {
          "type": "VcGallery",
          "label": "Images"
        }
      ],
      "logic": {
        "state": {
          "loading": { "source": "composable", "reactive": true },
          "offer": { "source": "composable", "reactive": true },
          "modified": { "source": "composable", "reactive": true },
          "validating": { "source": "local", "reactive": true }
        },
        "toolbar": [
          { "id": "save", "icon": "fas fa-save", "action": "onSave()", "disabled": "!meta.valid || !modified" },
          { "id": "delete", "icon": "fas fa-trash", "action": "onDelete()", "variant": "danger" }
        ],
        "handlers": {
          "onSave": "Validate and save offer",
          "onDelete": "Confirm and delete offer",
          "onClose": "Check unsaved changes before closing",
          "validateSku": "Async SKU uniqueness validation"
        }
      }
    }
  ]
}
