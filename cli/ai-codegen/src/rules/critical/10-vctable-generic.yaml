id: "10"
name: "VcTable Generic Comment"
category: "critical"
priority: 100
enabled: true
applies_to:
  - "list"
  - "details"

description: |
  VcTable REQUIRES <!-- @vue-generic {Type} --> comment DIRECTLY ABOVE the <VcTable> tag.
  The {Type} should match the type of items passed to :items prop.

  This is REQUIRED for TypeScript type inference in slot templates (e.g., #item_name="{ item }").

forbidden:
  - pattern: "<VcTable"
    when: "Missing <!-- @vue-generic {Type} --> comment directly above"
    reason: "VcTable requires @vue-generic comment for TypeScript type inference in slots"
    severity: "error"

correct_pattern:
  inline: |
    ```vue
    <template>
      <VcBlade>
        <!-- @vue-generic {IOffer} -->
        <VcTable
          :items="offers"
          :columns="columns"
        >
          <template #item_name="{ item }">
            {{ item.name }}  <!-- TypeScript knows item is IOffer -->
          </template>
        </VcTable>
      </VcBlade>
    </template>
    ```

wrong_pattern:
  inline: |
    ```vue
    <template>
      <VcBlade>
        <!-- âŒ WRONG: Missing @vue-generic comment -->
        <VcTable
          :items="offers"
          :columns="columns"
        >
          <template #item_name="{ item }">
            {{ item.name }}  <!-- item is 'unknown' type! -->
          </template>
        </VcTable>
      </VcBlade>
    </template>
    ```

examples:
  - "capabilities/VcTable/GENERIC_SFC.md"
