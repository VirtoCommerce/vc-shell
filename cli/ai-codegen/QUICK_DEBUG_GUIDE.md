# –ë—ã—Å—Ç—Ä—ã–π –≥–∏–¥: –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å debug –ª–æ–≥–∏ –≤ Claude Code

## –ü—Ä–æ–±–ª–µ–º–∞
.env —Ñ–∞–π–ª –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ Claude Code –∑–∞–ø—É—Å–∫–∞–µ—Ç MCP —Å–µ—Ä–≤–µ—Ä —Å–∞–º, –∏ –Ω–µ –≤–∏–¥–∏—Ç –≤–∞—à .env

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MCP –≤ Claude Code

1. –û—Ç–∫—Ä–æ–π—Ç–µ VSCode Settings (‚åò,)
2. –ü–æ–∏—Å–∫: "MCP"
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **MCP Servers**
4. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à —Å–µ—Ä–≤–µ—Ä **vcshell-codegen**

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ environment variables

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ü–∏—é `env`:

```json
{
  "mcpServers": {
    "vcshell-codegen": {
      "command": "node",
      "args": [
        "/Users/symbot/DEV/vc-shell/cli/ai-codegen/dist/index.js",
        "mcp"
      ],
      "env": {
        "DEBUG_MCP": "true",
        "MCP_METRICS_FILE": "/tmp/mcp-metrics.json"
      }
    }
  }
}
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä

- Command Palette (‚åò‚áßP) ‚Üí "MCP: Restart Server"
- –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VSCode

### –®–∞–≥ 4: –û—Ç–∫—Ä–æ–π—Ç–µ Output panel

- View ‚Üí Output (‚åò‚áßU)
- –í dropdown –≤—ã–±–µ—Ä–∏—Ç–µ **"MCP: vcshell-codegen"**
- –í–∫–ª—é—á–∏—Ç–µ Auto-scroll (–∏–∫–æ–Ω–∫–∞ —Å–ø—Ä–∞–≤–∞)

## –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

```
[MCP TOOL CALL] validate_ui_plan
[MCP ARGS] {
  "plan": {
    "module": "offers",
    "blades": [...]
  }
}
[MCP SUCCESS] validate_ui_plan completed in 23ms
```

## –ú–µ—Ç—Ä–∏–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ (Ctrl+C) –≤ Output –ø–æ—è–≤–∏—Ç—Å—è:

```
=============================================================
MCP METRICS SUMMARY
=============================================================
Session duration: 120s
Total tool calls: 5
Success rate: 100%

Tool Usage Statistics:
------------------------------------------------------------
Tool Name                      Calls    Success  Avg (ms)
------------------------------------------------------------
validate_ui_plan               2        100%     15
generate_complete_module       1        100%     1234
=============================================================
```

–¢–∞–∫–∂–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª: `/tmp/mcp-metrics.json`

## Troubleshooting

### –õ–æ–≥–æ–≤ –Ω–µ –≤–∏–¥–Ω–æ
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `"DEBUG_MCP": "true"` –≤ env (–∏–º–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∫–∞ "true")
‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ MCP —Å–µ—Ä–≤–µ—Ä?
‚úÖ –û—Ç–∫—Ä—ã—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Output channel?

### Output panel –ø—É—Å—Ç–æ–π
‚úÖ View ‚Üí Output ‚Üí "MCP: vcshell-codegen" –≤ dropdown
‚úÖ –ï—Å–ª–∏ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ - —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω

### –ú–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: `/tmp/mcp-metrics.json`
‚úÖ –ü—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å?
‚úÖ –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∏–ª —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (Ctrl+C)?

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –¢–µ—Å—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
cd /Users/symbot/DEV/vc-shell/cli/ai-codegen
DEBUG_MCP=true npx . mcp
```

–õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –ø—Ä—è–º–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç stderr).

---

üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/MCP_DEBUG_GUIDE.md](./docs/MCP_DEBUG_GUIDE.md)
